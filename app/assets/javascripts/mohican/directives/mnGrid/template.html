<div mn-fill-height class="scrollableHframe noPad" style="">
  <table class="table table-striped" style="table-layout:fixed;">
    <colgroup>
      <col ng-show="grid.showSelectColumn" class="vmiddle" style="width: 30px; margin:0 auto;">
      <col ng-repeat="field in grid.owner.fields" ng-style="{width: field.width + 'px'}"/>
      <col style="width: 132px;">
    </colgroup>
    <thead>
      <tr>
        <th ng-show="grid.showSelectColumn" class="grid-header-container">
          <input type="checkbox" class="baseFont3x"
                 ng-model="grid.onlySelectedItemsShown">
        </th>
        <th ng-repeat="field in grid.owner.fields"
            ng-class="{'mn-sortable': grid.owner.fullyLoaded && !grid.onlySelectedItemsShown}"
            ng-click="grid.orderBy(field)"
            class="grid-header-container">
          <span class="grid-header-field-name" ng-style="{width: (field.width - 18) + 'px'}">
            {{field.header}}
          </span>
          <span ng-show="grid.owner.stateMachine.column === field.name && grid.owner.fullyLoaded && !grid.onlySelectedItemsShown"
                class="pull-right grid-header-field-dir "
                ng-class="grid.owner.stateMachine.direction === 'desc' ? 'glyphicon glyphicon-arrow-up' : 'glyphicon glyphicon-arrow-down'"
                aria-hidden="true"></span>
        </th>
        <th class="grid-header-container"></th>
      </tr>
      <tr>
        <th ng-show="grid.showSelectColumn" class="QfRow">
          <div animate class="filterRowAnimWrap" ng-show="grid.owner.stateMachine.quickFilterShown && grid.owner.fullyLoaded">
          </div>
        </th>
        <th ng-repeat="field in grid.owner.fields" class="QfRow">
          <div animate class="filterRowAnimWrap" ng-show="grid.owner.stateMachine.quickFilterShown && grid.owner.fullyLoaded">
            <mn-qf-text
                  qf-disabled="grid.onlySelectedItemsShown"
                  ng-if="field.quickfilter === 'text'"
                  model="grid.owner.stateMachine.filters[field.name]"
                  qf-changed="grid.filterBy(fieldName)"
                  field="field"></mn-qf-text>
            <mn-qf-date-range
                  qf-disabled="grid.onlySelectedItemsShown"
                  ng-if="field.quickfilter === 'date-range'"
                  model="grid.owner.stateMachine.filters[field.name]"
                  qf-changed="grid.filterBy(fieldName)"
                  field="field"></mn-qf-date-range>
            <mn-qf-select
                  qf-disabled="grid.onlySelectedItemsShown"
                  ng-if="field.quickfilter === 'select'"
                  model="grid.owner.stateMachine.filters[field.name]"
                  qf-changed="grid.filterBy(fieldName)"
                  field="field"></mn-qf-select>
          </div>
        </th>
        <th class="QfRow">
          <div animate class="filterRowAnimWrap" ng-show="grid.owner.stateMachine.quickFilterShown && grid.owner.fullyLoaded">
          </div> 
        </th>
      </tr>
    </thead>
    <tbody ng-hide="grid.onlySelectedItemsShown">
      <tr ng-repeat="item in grid.owner.items" mn-right-click="grid.rightClick(item, $event)">
        <td ng-show="grid.showSelectColumn">
          <input type="checkbox" class="baseFont3x"
                 ng-checked="grid.isItemSelected(item)"
                 ng-click="grid.selectionChanged(item)">
        </td>
        <td ng-repeat="field in grid.owner.fields" style="overflow: hidden;">
          <div>
            <span>
              {{item[field.name + '_formatted']}}
            </span>
          </div>
        </td>
        <td>
          <mn-grid-actions />
        <td>
      </tr>
    </tbody>
    <tbody ng-show="grid.onlySelectedItemsShown">
      <tr ng-repeat="item in grid.selectedItems" mn-right-click="grid.rightClick(item, $event)">
        <td ng-show="grid.showSelectColumn">
          <input type="checkbox"
                 ng-checked="grid.isItemSelected(item)"
                 ng-click="grid.selectionChanged(item)">
        </td>
        <td ng-repeat="field in grid.owner.fields" style="overflow: auto;">
          <div>
            <span>
              {{item[field.name + '_formatted']}}
            </span>
          </div>
        </td>
        <td>
          <mn-grid-actions />
        <td>
      </tr>
    </tbody>
  </table>
</div>
<mn-grid-pager ng-hide="grid.onlySelectedItemsShown">
</mn-grid-pager>
<div>
  backend filtered documents count: {{grid.owner.service.buffer.length}}/{{grid.owner.service.totalCount}}
</div>
<div>
  quick filtered documents count: {{grid.owner.totalQfCount}}
</div>
<div>
  selected documents count: {{grid.selectedItems.length}}
  <a ng-show="grid.selectedItems.length > 0" ng-click="grid.unselectAll()">unselect all</a>
</div>
<div class="btn-group-vertical mn-context-menu"
     role="group"
     ng-show="grid.contextMenuVisible"
     ng-style="grid.menuPosition">
  <button ng-repeat="item in grid.contextMenuItems" ng-click="grid.contextMenuAction(item)" type="button" class="btn btn-default">{{item.text}}</button>
</div>
<div class="mn-context-menu-cover" ng-click="grid.contextMenuVisible=false" ng-if="grid.contextMenuVisible">
