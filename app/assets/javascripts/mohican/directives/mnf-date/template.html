<div ng-if="readOnly || mnfDoc._state === 'ready' || mnfDoc._state === 'deleting'"
     class="form-group form-group-sm mn-form-group">
  <label class="col-sm-4 control-label" for="formGroupInputLarge">{{mnfLabel}}</label>
  <div class="col-sm-8 state-ready-field-value">
    <span>{{mnfDoc[mnfField] ? moment(mnfDoc[mnfField]).format('DD.MM.YYYY.') : ''}}</span>
  </div>
</div>
<div ng-if="!readOnly && (mnfDoc._state === 'added' || mnfDoc._state === 'editing' || mnfDoc._state === 'changed' || mnfDoc._state === 'committing')"
     class="form-group form-group-sm mn-form-group">
  <label class="col-sm-4 control-label" for="{{mnfField}}">{{mnfLabel}}</label>
  <div class="col-sm-8">
    <p class="input-group input-group-sm">
      <input type="text"
             class="form-control"
             ng-disabled="mnfDoc._state === 'committing'"
             datepicker-popup="dd.MM.yyyy."
             ng-model="mnfDoc._edit[mnfField]"
             ng-change="textChanged()"
             is-open="dialogOpened"
             ng-class="{'changed': mnfDoc['_' + mnfField + '_changed']}"
             close-text="Close" />
      <span class="input-group-btn">
        <button type="button" class="btn btn-default" ng-click="dialogOpened = true">
          <i class="glyphicon glyphicon-calendar"></i>
        </button>
      </span>
    </p>
  </div>
</div>
